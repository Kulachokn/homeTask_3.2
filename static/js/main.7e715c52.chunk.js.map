{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.js","components/Notification/Notification.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/services/imageApi.js","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/Button/Button.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Spinner","type","color","height","width","React","Component","Notification","message","ImageGalleryItem","webformatURL","largeImageURL","onSetLargeImage","className","styles","onClick","ImageGalleryItemImage","src","alt","ImageGallery","images","map","id","key","searchQuery","page","axios","get","then","response","data","hits","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","SearchForm","this","SearchFormInput","onChange","SearchFormButton","SearchFormLabel","Modal","handleKeyDown","code","onClose","handleOverlayClick","currentTarget","window","addEventListener","removeEventListener","Overlay","largeImage","Button","onLoadMore","App","loading","error","fetchImages","imageApi","prevState","catch","finally","handleSearchBarSubmit","query","scrollToBottom","scrollTo","top","document","documentElement","scrollHeight","behavior","setLargeImage","closeModal","prevProps","snapshot","prevQuery","nextQuery","prevImages","nextImages","length","Loader","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7e715c52.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nclass Spinner extends React.Component {\n  render() {\n    return <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={100} width={100} />;\n  }\n}\n\nexport default Spinner;\n","import React from \"react\";\n\nexport default function Notification({ message }) {\n  return <div>{message}</div>;\n}\n","import React from \"react\";\nimport styles from \"../ImageGalleryItem/ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, onSetLargeImage }) => {\n  return (\n    <li\n      className={styles.ImageGalleryItem}\n      onClick={() => onSetLargeImage(largeImageURL)}\n    >\n      <img\n        className={styles.ImageGalleryItemImage}\n        src={webformatURL}\n        alt=\"Изображение\"\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"../ImageGallery/ImageGallery.module.css\";\n\nexport default function ImageGallery({ images, onSetLargeImage }) {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(({ id, webformatURL, largeImageURL }) => {\n        return (\n          <ImageGalleryItem\n            key={id}\n            src={webformatURL}\n            alt=\"Изображение\"\n            onSetLargeImage={() => onSetLargeImage(largeImageURL)}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n","import axios from \"axios\";\n\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\n  return axios\n    .get(\n      ` https://pixabay.com/api/?q=${searchQuery}&page=${page}&per_page=12&key=15482023-2b053900c18c0e4b941c4a2ed&image_type=photo&orientation=horizontal&`\n    )\n    .then(response => response.data.hits);\n};\n\nexport default {\n  fetchImagesWithQuery\n};\n","import React, { Component } from \"react\";\nimport styles from \"./Searchbar.module.css\";\n\nexport default class Searchbar extends Component {\n  state = { inputValue: \"\" };\n\n  handleChange = e => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <label>\n            <input\n              className={styles.SearchFormInput}\n              type=\"text\"\n              value={this.state.inputValue}\n              onChange={this.handleChange}\n            />\n          </label>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormLabel}>Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport styles from \"../Modal/Modal.module.css\";\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className={styles.Overlay}>\n        <div className={styles.Modal} onClick={this.handleOverlayClick}>\n          <img src={this.props.largeImage} alt=\"Изображение\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport styles from \"../Button/Button.module.css\";\n\nconst Button = ({ onLoadMore }) => {\n  return (\n    <>\n      <button className={styles.Button} type=\"button\" onClick={onLoadMore}>\n        Load more\n      </button>\n    </>\n  );\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport Loader from \"./Loader/Loader\";\nimport Notification from \"./Notification/Notification\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport imageApi from \"./services/imageApi\";\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport Modal from \"./Modal/Modal\";\nimport Button from \"./Button/Button\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    loading: false,\n    error: null,\n    searchQuery: \"\",\n    page: 0,\n    largeImage: \"\"\n  };\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    const prevImages = prevState.images;\n    const nextImages = this.state.images;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n\n    if (prevImages !== nextImages) {\n      this.scrollToBottom();\n    }\n  }\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({ loading: true });\n\n    imageApi\n      .fetchImagesWithQuery(searchQuery, page)\n      .then(images =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1\n        }))\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  handleSearchBarSubmit = query => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      images: []\n    });\n  };\n\n  scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\"\n    });\n  };\n\n  setLargeImage = largeImage => {\n    this.setState({ largeImage });\n  };\n\n  closeModal = () => {\n    this.setState({ largeImage: \"\" });\n  };\n\n  render() {\n    const { images, loading, error, largeImage } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSearchBarSubmit} />\n        {error && (\n          <Notification\n            message={`Whoops, something went wrong: ${error.message}`}\n          />\n        )}\n        {images.length > 0 && (\n          <ImageGallery images={images} onSetLargeImage={this.setLargeImage} />\n        )}\n        {loading && <Loader />}\n        {largeImage && (\n          <Modal onClose={this.closeModal} largeImage={largeImage} />\n        )}\n        {images.length > 0 && !loading && (\n          <Button onLoadMore={this.fetchImages} />\n        )}\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormLabel\":\"Searchbar_SearchFormLabel__baQy8\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};"],"sourceRoot":""}